<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.lhiot.oc.basic.mapper.OrderFlowMapper">
    <!--新增-->
    <insert id="create" parameterType="com.lhiot.oc.basic.model.OrderFlow" useGeneratedKeys="true" keyProperty="id">
        insert into order_flow(
                <trim suffixOverrides=",">
                        id,
                        order_id,
                        status,
                        pre_status,
                        create_at,
                </trim>
        )VALUES (
                    <trim suffixOverrides=",">
                            #{id},
                            #{orderId},
                            #{orderStatus},
                            #{preStatus},
                            #{createAt},
                    </trim>
        )
    </insert>

    <select id="flowByOrderId" parameterType="Long" resultType="com.lhiot.oc.basic.model.OrderFlow">
        SELECT id,order_id as orderId,status as orderStatus,pre_status as preStatus,create_at as createAt
        FROM order_flow
        WHERE order_id = #{0} order by id desc
    </select>
</mapper>